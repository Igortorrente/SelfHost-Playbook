# We need split the set_facts to generate a different password for
# each service.
# If we put just one set_fact, the password_gen will be evaluated once,
# and therefore only one password will be generated for all services.
# This is ugly, and an improvement is wellcome.
---
- name: Var postgres_passwd.
  ansible.builtin.set_fact:
    postgres_passwd: "{{ password_gen }}"

- name: Var keycloak_postgres_password.
  ansible.builtin.set_fact:
    keycloak_postgres_password: "{{ password_gen }}"

- name: Var keycloak_admin_password.
  ansible.builtin.set_fact:
    keycloak_admin_password: "{{ password_gen }}"

- name: Var mailu_postgres_password.
  ansible.builtin.set_fact:
    mailu_postgres_password: "{{ password_gen }}"

- name: Var roundcube_postgres_password.
  ansible.builtin.set_fact:
    roundcube_postgres_password: "{{ password_gen }}"

- name: Var mailu_postmaster_password.
  ansible.builtin.set_fact:
    mailu_postmaster_password: "{{ password_gen }}"

- name: Var mailu_secret_key.
  ansible.builtin.set_fact:
    mailu_secret_key: "{{ mailu_secret_key_gen }}"
